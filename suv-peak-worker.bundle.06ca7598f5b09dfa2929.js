(()=>{var e,t,n={30684:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=30684,e.exports=t},68717:(e,t,n)=>{"use strict";var a=n(93725),r=n(72076),o=n(8455),i=n(54131),s=n(28635);const c=({dimensions:e,origin:t,direction:n,spacing:a,scalarData:r,metadata:s})=>{const c=o.ZP.newInstance();c.setDimensions(e),c.setOrigin(t),c.setDirection(n),c.setSpacing(a);const l=i.default.newInstance({name:"Pixels",numberOfComponents:1,values:r});return c.getPointData().setScalars(l),c.modified(),{imageData:c,metadata:s,getScalarData:()=>r}};const l={calculateSuvPeak:function({labelmapProps:e,referenceVolumeProps:t,annotations:n,segmentIndex:o=1}){const i=c(e),s=c(t);if("PT"!==s.metadata.Modality)return;const l=i.getScalarData(),d=s.getScalarData();if(l.length!==d.length)throw new Error("labelmap and referenceVolume must have the same number of pixels");const{dimensions:u,imageData:f}=i,{imageData:p}=s;let m;if(n?.length&&n[0].data?.cachedStats){const{projectionPoints:e}=n[0].data.cachedStats,t=[].concat(...e).map((e=>{const t=r.R3.fromValues(0,0,0);return p.worldToIndex(e,t),t}));m=a.utilities.boundingBox.getBoundingBoxAroundShape(t,u)}let h=0,b=[0,0,0],g=[0,0,0];a.utilities.pointInShapeCallback(f,(()=>!0),(({pointIJK:e,pointLPS:t})=>{const n=p.computeOffsetIndex(e);if(l[n]!==o)return;const a=d[n];a>h&&(h=a,b=e,g=t)}),m);const v=f.getDirection().slice(0,3),x=2*(10*Math.pow(1/(4/3*Math.PI),1/3)),S=r.R3.create(),O=r.R3.create(),w=r.R3.create();p.indexToWorld(b,S),r.R3.scaleAndAdd(O,S,v,-x/2),r.R3.scaleAndAdd(w,S,v,x/2);const y=[O,w];let P=0,D=0;return a.utilities.pointInSurroundingSphereCallback(p,y,(({value:e})=>{D+=e,P+=1})),{max:h,maxIJK:b,maxLPS:g,mean:D/P}}};(0,s.Jj)(l)},78753:()=>{}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=n,r.x=()=>{var e=r.O(void 0,[188,507,909,703,250,522],(()=>r(68717)));return e=r.O(e)},r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],o=e[d][2];for(var s=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>(985===e?"polySeg":e)+".bundle."+{188:"23828d438d3c27f7781c",250:"6cf33f3e470a82563269",507:"68072c4602ad7ae858f6",522:"3d7c4d1df78be213bd20",703:"41e39526331f40bc0d82",909:"a2a35a16cadabe31e316",985:"f8f0639b4915b647c908"}[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{r.b=self.location+"";var e={607:1,985:1};r.f.i=(t,n)=>{e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunk=self.webpackChunk||[],n=t.push.bind(t);t.push=t=>{var a=t[0],o=t[1],i=t[2];for(var s in o)r.o(o,s)&&(r.m[s]=o[s]);for(i&&i(r);a.length;)e[a.pop()]=1;n(t)}})(),t=r.x,r.x=()=>Promise.all([188,507,909,703,250,522].map(r.e,r)).then(t);r.x()})();
//# sourceMappingURL=suv-peak-worker.bundle.06ca7598f5b09dfa2929.js.map