{"version":3,"file":"888.bundle.00b9b1c9d38c5dc9ecd0.js","mappings":"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","sources":["webpack:///../../../modes/basic-test-mode/src/toolbarButtons.ts","webpack:///../../../modes/basic-test-mode/src/id.js","webpack:///../../../modes/basic-test-mode/src/initToolGroups.ts","webpack:///../../../modes/basic-test-mode/src/moreTools.ts","webpack:///../../../modes/basic-test-mode/src/index.ts"],"sourcesContent":["// TODO: torn, can either bake this here; or have to create a whole new button type\r\n// Only ways that you can pass in a custom React component for render :l\r\nimport {\r\n  // ListMenu,\r\n  WindowLevelMenuItem,\r\n} from '@ohif/ui';\r\nimport { defaults, ToolbarService } from '@ohif/core';\r\nimport type { Button } from '@ohif/core/types';\r\n\r\nconst { windowLevelPresets } = defaults;\r\nconst { createButton } = ToolbarService;\r\n\r\nfunction _createColormap(label, colormap) {\r\n  return {\r\n    id: label.toString(),\r\n    title: label,\r\n    subtitle: label,\r\n    type: 'action',\r\n    commands: [\r\n      {\r\n        commandName: 'setAllViewportsColorMap',\r\n        commandOptions: {\r\n          ...windowLevelPresets[1]\r\n        },\r\n      },\r\n      {\r\n        commandName: 'setAllViewportsColorMap',\r\n        commandOptions: {\r\n          ...windowLevelPresets[1]\r\n        },\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} preset - preset number (from above import)\r\n * @param {*} title\r\n * @param {*} subtitle\r\n */\r\nfunction _createWwwcPreset(preset, title, subtitle) {\r\n  console.log('DEFAULTS', defaults)\r\n  return {\r\n    id: preset.toString(),\r\n    title,\r\n    subtitle,\r\n    commands: [\r\n      {\r\n        commandName: 'setWindowLevel',\r\n        commandOptions: {\r\n          ...windowLevelPresets[preset],\r\n        },\r\n        context: 'CORNERSTONE',\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nexport const setToolActiveToolbar = {\r\n  commandName: 'setToolActiveToolbar',\r\n  commandOptions: {\r\n    toolGroupIds: ['default', 'mpr', 'SRToolGroup'],\r\n  },\r\n};\r\n\r\nconst toolbarButtons: Button[] = [\r\n  {\r\n    id: 'MeasurementTools',\r\n    uiType: 'ohif.splitButton',\r\n    props: {\r\n      groupId: 'MeasurementTools',\r\n      // group evaluate to determine which item should move to the top\r\n      evaluate: 'evaluate.group.promoteToPrimaryIfCornerstoneToolNotActiveInTheList',\r\n      primary: createButton({\r\n        id: 'Length',\r\n        icon: 'tool-length',\r\n        label: 'Length',\r\n        tooltip: 'Length Tool',\r\n        commands: setToolActiveToolbar,\r\n        evaluate: 'evaluate.cornerstoneTool',\r\n      }),\r\n      secondary: {\r\n        icon: 'chevron-down',\r\n        tooltip: 'More Measure Tools',\r\n      },\r\n      items: [\r\n        createButton({\r\n          id: 'Length',\r\n          icon: 'tool-length',\r\n          label: 'Length',\r\n          tooltip: 'Length Tool',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'Bidirectional',\r\n          icon: 'tool-bidirectional',\r\n          label: 'Bidirectional',\r\n          tooltip: 'Bidirectional Tool',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'ArrowAnnotate',\r\n          icon: 'tool-annotate',\r\n          label: 'Annotation',\r\n          tooltip: 'Arrow Annotate',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'EllipticalROI',\r\n          icon: 'tool-ellipse',\r\n          label: 'Ellipse',\r\n          tooltip: 'Ellipse ROI',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'CircleROI',\r\n          icon: 'tool-circle',\r\n          label: 'Circle',\r\n          tooltip: 'Circle Tool',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'PlanarFreehandROI',\r\n          icon: 'icon-tool-freehand-roi',\r\n          label: 'Freehand ROI',\r\n          tooltip: 'Freehand ROI',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'SplineROI',\r\n          icon: 'icon-tool-spline-roi',\r\n          label: 'Spline ROI',\r\n          tooltip: 'Spline ROI',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'LivewireContour',\r\n          icon: 'icon-tool-livewire',\r\n          label: 'Livewire tool',\r\n          tooltip: 'Livewire tool',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Zoom',\r\n    uiType: 'ohif.radioGroup',\r\n    props: {\r\n      icon: 'tool-zoom',\r\n      label: 'Zoom',\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  // Window Level\r\n  {\r\n    id: 'WindowLevel',\r\n    uiType: 'ohif.splitButton',\r\n    props: {\r\n      groupId: 'WindowLevel',\r\n      primary: createButton({\r\n        id: 'WindowLevel',\r\n        icon: 'tool-window-level',\r\n        label: 'Window Level',\r\n        tooltip: 'Window Level',\r\n        commands: setToolActiveToolbar,\r\n        evaluate: 'evaluate.cornerstoneTool',\r\n      }),\r\n      secondary: {\r\n        icon: 'chevron-down',\r\n        label: 'W/L Manual',\r\n        tooltip: 'W/L Presets',\r\n      },\r\n      renderer: WindowLevelMenuItem,\r\n      items: [\r\n        _createWwwcPreset(1, 'Soft tissue', '400 / 40'),\r\n        _createWwwcPreset(2, 'Lung', '1500 / -600'),\r\n        _createWwwcPreset(3, 'Liver', '150 / 90'),\r\n        _createWwwcPreset(4, 'Bone', '2500 / 480'),\r\n        _createWwwcPreset(5, 'Brain', '80 / 40'),\r\n      ],\r\n    },\r\n  },\r\n  // Pan...\r\n  {\r\n    id: 'Pan',\r\n    uiType: 'ohif.radioGroup',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-move',\r\n      label: 'Pan',\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'MPR',\r\n    uiType: 'ohif.radioGroup',\r\n    props: {\r\n      icon: 'icon-mpr-3d',\r\n      label: 'MPR',\r\n      commands: [\r\n        {\r\n          commandName: 'toggleHangingProtocol',\r\n          commandOptions: {\r\n            protocolId: 'mprAnd3DVolumeViewport',\r\n          },\r\n        },\r\n      ],\r\n      evaluate: 'evaluate.mpr',\r\n    },\r\n  },\r\n  {\r\n    id: 'TrackBallRotate',\r\n    type: 'ohif.radioGroup',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-3d-rotate',\r\n      label: '3D Rotate',\r\n      commands: setToolActiveToolbar,\r\n    },\r\n  },\r\n  {\r\n    id: 'Capture',\r\n    uiType: 'ohif.radioGroup',\r\n    props: {\r\n      icon: 'tool-capture',\r\n      label: 'Capture',\r\n      commands: 'showDownloadViewportModal',\r\n      evaluate: 'evaluate.action',\r\n    },\r\n  },\r\n  {\r\n    id: 'Layout',\r\n    uiType: 'ohif.layoutSelector',\r\n    props: {\r\n      rows: 3,\r\n      columns: 4,\r\n      evaluate: 'evaluate.action',\r\n      commands: 'setViewportGridLayout',\r\n    },\r\n  },\r\n  {\r\n    id: 'Crosshairs',\r\n    uiType: 'ohif.radioGroup',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-crosshair',\r\n      label: 'Crosshairs',\r\n      commands: {\r\n        commandName: 'setToolActiveToolbar',\r\n        commandOptions: {\r\n          toolGroupIds: ['mpr'],\r\n        },\r\n      },\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'fusionPTColormap',\r\n    uiType: 'ohif.splitButton',\r\n    props: {\r\n      groupId: 'fusionPTColormap',\r\n      primary: createButton({\r\n        id: 'fusionPTColormap',\r\n        icon: 'tool-fusion-color',\r\n        label: 'Fusion PT Colormap',\r\n        tooltip: 'Fusion PT Colormap',\r\n        commands: [],\r\n        evaluate: 'evaluate.cornerstoneTool'\r\n      }),\r\n      secondary: {\r\n        icon: 'chevron-down',\r\n        tooltip: 'PET Image Colormap',\r\n      },\r\n      isAction: true, // ?\r\n      renderer: WindowLevelMenuItem,\r\n      items: [\r\n        _createColormap('HSV', 'hsv'),\r\n        _createColormap('Hot Iron', 'hot_iron'),\r\n        _createColormap('S PET', 's_pet'),\r\n        _createColormap('Red Hot', 'red_hot'),\r\n        _createColormap('Perfusion', 'perfusion'),\r\n        _createColormap('Rainbow', 'rainbow_2'),\r\n        _createColormap('SUV', 'suv'),\r\n        _createColormap('GE 256', 'ge_256'),\r\n        _createColormap('GE', 'ge'),\r\n        _createColormap('Siemens', 'siemens'),\r\n      ],\r\n    },\r\n  },\r\n];\r\n\r\nexport default toolbarButtons;\r\n","import packageJson from '../package.json';\r\n\r\nconst id = packageJson.name;\r\n\r\nexport { id };\r\n","const colours = {\r\n  'viewport-0': 'rgb(200, 0, 0)',\r\n  'viewport-1': 'rgb(200, 200, 0)',\r\n  'viewport-2': 'rgb(0, 200, 0)',\r\n};\r\n\r\nconst colorsByOrientation = {\r\n  axial: 'rgb(200, 0, 0)',\r\n  sagittal: 'rgb(200, 200, 0)',\r\n  coronal: 'rgb(0, 200, 0)',\r\n};\r\n\r\nfunction initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, toolGroupId) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\r\n      },\r\n      { toolName: toolNames.StackScrollMouseWheel, bindings: [] },\r\n    ],\r\n    passive: [\r\n      { toolName: toolNames.Length },\r\n      {\r\n        toolName: toolNames.ArrowAnnotate,\r\n        configuration: {\r\n          getTextCallback: (callback, eventDetails) =>\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              eventDetails,\r\n            }),\r\n\r\n          changeTextCallback: (data, eventDetails, callback) =>\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              data,\r\n              eventDetails,\r\n            }),\r\n        },\r\n      },\r\n      { toolName: toolNames.Bidirectional },\r\n      { toolName: toolNames.DragProbe },\r\n      { toolName: toolNames.Probe },\r\n      { toolName: toolNames.EllipticalROI },\r\n      { toolName: toolNames.CircleROI },\r\n      { toolName: toolNames.RectangleROI },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Angle },\r\n      { toolName: toolNames.Magnify },\r\n      { toolName: toolNames.SegmentationDisplay },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n      { toolName: toolNames.UltrasoundDirectional },\r\n      { toolName: toolNames.PlanarFreehandROI },\r\n      { toolName: toolNames.SplineROI },\r\n      { toolName: toolNames.LivewireContour },\r\n    ],\r\n    // enabled\r\n    enabled: [{ toolName: toolNames.ImageOverlayViewer }],\r\n    // disabled\r\n    disabled: [{ toolName: toolNames.ReferenceLines }, { toolName: toolNames.AdvancedMagnify }],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\r\n}\r\n\r\nfunction initSRToolGroup(extensionManager, toolGroupService, commandsManager) {\r\n  const SRUtilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone-dicom-sr.utilityModule.tools'\r\n  );\r\n\r\n  const CS3DUtilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames: SRToolNames } = SRUtilityModule.exports;\r\n  const { toolNames, Enums } = CS3DUtilityModule.exports;\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Primary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Auxiliary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Secondary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScrollMouseWheel,\r\n        bindings: [],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: SRToolNames.SRLength },\r\n      { toolName: SRToolNames.SRArrowAnnotate },\r\n      { toolName: SRToolNames.SRBidirectional },\r\n      { toolName: SRToolNames.SREllipticalROI },\r\n      { toolName: SRToolNames.SRCircleROI },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n    ],\r\n    enabled: [\r\n      {\r\n        toolName: SRToolNames.DICOMSRDisplay,\r\n        bindings: [],\r\n      },\r\n    ],\r\n    // disabled\r\n  };\r\n\r\n  const toolGroupId = 'SRToolGroup';\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\r\n}\r\n\r\nfunction initMPRToolGroup(extensionManager, toolGroupService, commandsManager) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const serviceManager = extensionManager._servicesManager;\r\n  const { cornerstoneViewportService } = serviceManager.services;\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\r\n      },\r\n      { toolName: toolNames.StackScrollMouseWheel, bindings: [] },\r\n    ],\r\n    passive: [\r\n      { toolName: toolNames.Length },\r\n      {\r\n        toolName: toolNames.ArrowAnnotate,\r\n        configuration: {\r\n          getTextCallback: (callback, eventDetails) =>\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              eventDetails,\r\n            }),\r\n\r\n          changeTextCallback: (data, eventDetails, callback) =>\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              data,\r\n              eventDetails,\r\n            }),\r\n        },\r\n      },\r\n      { toolName: toolNames.Bidirectional },\r\n      { toolName: toolNames.DragProbe },\r\n      { toolName: toolNames.Probe },\r\n      { toolName: toolNames.EllipticalROI },\r\n      { toolName: toolNames.CircleROI },\r\n      { toolName: toolNames.RectangleROI },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Angle },\r\n      { toolName: toolNames.SegmentationDisplay },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n    ],\r\n    disabled: [\r\n      {\r\n        toolName: toolNames.Crosshairs,\r\n        configuration: {\r\n          viewportIndicators: false,\r\n          autoPan: {\r\n            enabled: false,\r\n            panSize: 10,\r\n          },\r\n          getReferenceLineColor: viewportId => {\r\n            const viewportInfo = cornerstoneViewportService.getViewportInfo(viewportId);\r\n            const viewportOptions = viewportInfo?.viewportOptions;\r\n            if (viewportOptions) {\r\n              return (\r\n                colours[viewportOptions.id] ||\r\n                colorsByOrientation[viewportOptions.orientation] ||\r\n                '#0c0'\r\n              );\r\n            } else {\r\n              console.warn('missing viewport?', viewportId);\r\n              return '#0c0';\r\n            }\r\n          },\r\n        },\r\n      },\r\n      { toolName: toolNames.ReferenceLines },\r\n    ],\r\n\r\n    // enabled\r\n    // disabled\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools('mpr', tools);\r\n}\r\n\r\nfunction initVolume3DToolGroup(extensionManager, toolGroupService) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.TrackballRotateTool,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n    ],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools('volume3d', tools);\r\n}\r\n\r\nfunction initToolGroups(extensionManager, toolGroupService, commandsManager) {\r\n  initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, 'default');\r\n  initSRToolGroup(extensionManager, toolGroupService, commandsManager);\r\n  initMPRToolGroup(extensionManager, toolGroupService, commandsManager);\r\n  initVolume3DToolGroup(extensionManager, toolGroupService);\r\n}\r\n\r\nexport default initToolGroups;\r\n","import type { RunCommand } from '@ohif/core/types';\r\nimport { EVENTS } from '@cornerstonejs/core';\r\nimport { ToolbarService, ViewportGridService } from '@ohif/core';\r\nimport { setToolActiveToolbar } from './toolbarButtons';\r\nconst { createButton } = ToolbarService;\r\n\r\nconst ReferenceLinesListeners: RunCommand = [\r\n  {\r\n    commandName: 'setSourceViewportForReferenceLinesTool',\r\n    context: 'CORNERSTONE',\r\n  },\r\n];\r\n\r\nconst moreTools = [\r\n  {\r\n    id: 'MoreTools',\r\n    uiType: 'ohif.splitButton',\r\n    props: {\r\n      groupId: 'MoreTools',\r\n      evaluate: 'evaluate.group.promoteToPrimaryIfCornerstoneToolNotActiveInTheList',\r\n      primary: createButton({\r\n        id: 'Reset',\r\n        icon: 'tool-reset',\r\n        tooltip: 'Reset View',\r\n        label: 'Reset',\r\n        commands: 'resetViewport',\r\n        evaluate: 'evaluate.action',\r\n      }),\r\n      secondary: {\r\n        icon: 'chevron-down',\r\n        label: '',\r\n        tooltip: 'More Tools',\r\n      },\r\n      items: [\r\n        createButton({\r\n          id: 'Reset',\r\n          icon: 'tool-reset',\r\n          label: 'Reset View',\r\n          tooltip: 'Reset View',\r\n          commands: 'resetViewport',\r\n          evaluate: 'evaluate.action',\r\n        }),\r\n        createButton({\r\n          id: 'rotate-right',\r\n          icon: 'tool-rotate-right',\r\n          label: 'Rotate Right',\r\n          tooltip: 'Rotate +90',\r\n          commands: 'rotateViewportCW',\r\n          evaluate: 'evaluate.action',\r\n        }),\r\n        createButton({\r\n          id: 'flipHorizontal',\r\n          icon: 'tool-flip-horizontal',\r\n          label: 'Flip Horizontal',\r\n          tooltip: 'Flip Horizontally',\r\n          commands: 'flipViewportHorizontal',\r\n          evaluate: 'evaluate.viewportProperties.toggle',\r\n        }),\r\n        createButton({\r\n          id: 'ImageSliceSync',\r\n          icon: 'link',\r\n          label: 'Image Slice Sync',\r\n          tooltip: 'Enable position synchronization on stack viewports',\r\n          commands: {\r\n            commandName: 'toggleSynchronizer',\r\n            commandOptions: {\r\n              type: 'imageSlice',\r\n            },\r\n          },\r\n          listeners: {\r\n            [EVENTS.STACK_VIEWPORT_NEW_STACK]: {\r\n              commandName: 'toggleImageSliceSync',\r\n              commandOptions: { toggledState: true },\r\n            },\r\n          },\r\n          evaluate: 'evaluate.cornerstone.synchronizer',\r\n        }),\r\n        createButton({\r\n          id: 'ReferenceLines',\r\n          icon: 'tool-referenceLines',\r\n          label: 'Reference Lines',\r\n          tooltip: 'Show Reference Lines',\r\n          commands: 'toggleEnabledDisabledToolbar',\r\n          listeners: {\r\n            [ViewportGridService.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]: ReferenceLinesListeners,\r\n            [ViewportGridService.EVENTS.VIEWPORTS_READY]: ReferenceLinesListeners,\r\n          },\r\n          evaluate: 'evaluate.cornerstoneTool.toggle',\r\n        }),\r\n        createButton({\r\n          id: 'ImageOverlayViewer',\r\n          icon: 'toggle-dicom-overlay',\r\n          label: 'Image Overlay',\r\n          tooltip: 'Toggle Image Overlay',\r\n          commands: 'toggleEnabledDisabledToolbar',\r\n          evaluate: 'evaluate.cornerstoneTool.toggle',\r\n        }),\r\n        createButton({\r\n          id: 'StackScroll',\r\n          icon: 'tool-stack-scroll',\r\n          label: 'Stack Scroll',\r\n          tooltip: 'Stack Scroll',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'invert',\r\n          icon: 'tool-invert',\r\n          label: 'Invert',\r\n          tooltip: 'Invert Colors',\r\n          commands: 'invertViewport',\r\n          evaluate: 'evaluate.viewportProperties.toggle',\r\n        }),\r\n        createButton({\r\n          id: 'Probe',\r\n          icon: 'tool-probe',\r\n          label: 'Probe',\r\n          tooltip: 'Probe',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'Cine',\r\n          icon: 'tool-cine',\r\n          label: 'Cine',\r\n          tooltip: 'Cine',\r\n          commands: 'toggleCine',\r\n          evaluate: 'evaluate.cine',\r\n        }),\r\n        createButton({\r\n          id: 'Angle',\r\n          icon: 'tool-angle',\r\n          label: 'Angle',\r\n          tooltip: 'Angle',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'CobbAngle',\r\n          icon: 'icon-tool-cobb-angle',\r\n          label: 'Cobb Angle',\r\n          tooltip: 'Cobb Angle',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'Magnify',\r\n          icon: 'tool-magnify',\r\n          label: 'Zoom-in',\r\n          tooltip: 'Zoom-in',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'RectangleROI',\r\n          icon: 'tool-rectangle',\r\n          label: 'Rectangle',\r\n          tooltip: 'Rectangle',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'CalibrationLine',\r\n          icon: 'tool-calibration',\r\n          label: 'Calibration',\r\n          tooltip: 'Calibration Line',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n        createButton({\r\n          id: 'TagBrowser',\r\n          icon: 'dicom-tag-browser',\r\n          label: 'Dicom Tag Browser',\r\n          tooltip: 'Dicom Tag Browser',\r\n          commands: 'openDICOMTagViewer',\r\n        }),\r\n        createButton({\r\n          id: 'AdvancedMagnify',\r\n          icon: 'icon-tool-loupe',\r\n          label: 'Magnify Probe',\r\n          tooltip: 'Magnify Probe',\r\n          commands: 'toggleActiveDisabledToolbar',\r\n          evaluate: 'evaluate.cornerstoneTool.toggle.ifStrictlyDisabled',\r\n        }),\r\n        createButton({\r\n          id: 'UltrasoundDirectionalTool',\r\n          icon: 'icon-tool-ultrasound-bidirectional',\r\n          label: 'Ultrasound Directional',\r\n          tooltip: 'Ultrasound Directional',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: ['evaluate.cornerstoneTool', 'evaluate.isUS'],\r\n        }),\r\n        createButton({\r\n          id: 'WindowLevelRegion',\r\n          icon: 'icon-tool-window-region',\r\n          label: 'Window Level Region',\r\n          tooltip: 'Window Level Region',\r\n          commands: setToolActiveToolbar,\r\n          evaluate: 'evaluate.cornerstoneTool',\r\n        }),\r\n      ],\r\n    },\r\n  },\r\n];\r\n\r\nexport default moreTools;\r\n","import { hotkeys } from '@ohif/core';\r\nimport toolbarButtons from './toolbarButtons';\r\nimport { id } from './id';\r\nimport initToolGroups from './initToolGroups';\r\nimport moreTools from './moreTools';\r\nimport i18n from 'i18next';\r\n\r\n// Allow this mode by excluding non-imaging modalities such as SR, SEG\r\n// Also, SM is not a simple imaging modalities, so exclude it.\r\nconst NON_IMAGE_MODALITIES = ['SM', 'ECG', 'SR', 'SEG'];\r\n\r\nconst ohif = {\r\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\r\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\r\n  thumbnailList: '@ohif/extension-default.panelModule.seriesList',\r\n};\r\n\r\nconst tracked = {\r\n  measurements: '@ohif/extension-measurement-tracking.panelModule.trackedMeasurements',\r\n  thumbnailList: '@ohif/extension-measurement-tracking.panelModule.seriesList',\r\n  viewport: '@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked',\r\n};\r\n\r\nconst dicomsr = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\r\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\r\n};\r\n\r\nconst dicomvideo = {\r\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\r\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\r\n};\r\n\r\nconst dicompdf = {\r\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\r\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\r\n};\r\n\r\nconst dicomSeg = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg',\r\n  viewport: '@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg',\r\n  panel: '@ohif/extension-cornerstone-dicom-seg.panelModule.panelSegmentation',\r\n};\r\n\r\nconst extensionDependencies = {\r\n  // Can derive the versions at least process.env.from npm_package_version\r\n  '@ohif/extension-default': '^3.0.0',\r\n  '@ohif/extension-cornerstone': '^3.0.0',\r\n  '@ohif/extension-measurement-tracking': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-seg': '^3.0.0',\r\n  '@ohif/extension-dicom-pdf': '^3.0.1',\r\n  '@ohif/extension-dicom-video': '^3.0.1',\r\n  '@ohif/extension-test': '^0.0.1',\r\n};\r\n\r\nfunction modeFactory() {\r\n  return {\r\n    // TODO: We're using this as a route segment\r\n    // We should not be.\r\n    id,\r\n    routeName: 'basic-test',\r\n    displayName: i18n.t('Modes:Basic Test Mode'),\r\n    /**\r\n     * Lifecycle hooks\r\n     */\r\n    onModeEnter: ({ servicesManager, extensionManager, commandsManager }: withAppTypes) => {\r\n      const { measurementService, toolbarService, toolGroupService, customizationService } =\r\n        servicesManager.services;\r\n\r\n      measurementService.clearMeasurements();\r\n\r\n      // Init Default and SR ToolGroups\r\n      initToolGroups(extensionManager, toolGroupService, commandsManager);\r\n\r\n      // init customizations\r\n      customizationService.addModeCustomizations([\r\n        '@ohif/extension-test.customizationModule.custom-context-menu',\r\n      ]);\r\n\r\n      toolbarService.addButtons([...toolbarButtons, ...moreTools]);\r\n      toolbarService.createButtonSection('primary', [\r\n        'MeasurementTools',\r\n        'Zoom',\r\n        'WindowLevel',\r\n        'Pan',\r\n        'Capture',\r\n        'Layout',\r\n        'MPR',\r\n        'Crosshairs',\r\n        'MoreTools',\r\n      ]);\r\n    },\r\n    onModeExit: ({ servicesManager }: withAppTypes) => {\r\n      const {\r\n        toolGroupService,\r\n        syncGroupService,\r\n        segmentationService,\r\n        cornerstoneViewportService,\r\n        uiDialogService,\r\n        uiModalService,\r\n      } = servicesManager.services;\r\n\r\n      uiDialogService.dismissAll();\r\n      uiModalService.hide();\r\n      toolGroupService.destroy();\r\n      syncGroupService.destroy();\r\n      segmentationService.destroy();\r\n      cornerstoneViewportService.destroy();\r\n    },\r\n    validationTags: {\r\n      study: [],\r\n      series: [],\r\n    },\r\n\r\n    isValidMode: function ({ modalities }) {\r\n      const modalities_list = modalities.split('\\\\');\r\n\r\n      // Exclude non-image modalities\r\n      return {\r\n        valid: !!modalities_list.filter(modality => NON_IMAGE_MODALITIES.indexOf(modality) === -1)\r\n          .length,\r\n        description:\r\n          'The mode does not support studies that ONLY include the following modalities: SM, ECG, SR, SEG',\r\n      };\r\n    },\r\n    routes: [\r\n      {\r\n        path: 'basic-test',\r\n        /*init: ({ servicesManager, extensionManager }) => {\r\n          //defaultViewerRouteInit\r\n        },*/\r\n        layoutTemplate: () => {\r\n          return {\r\n            id: ohif.layout,\r\n            props: {\r\n              leftPanels: [tracked.thumbnailList],\r\n              rightPanels: [dicomSeg.panel, tracked.measurements],\r\n              // rightPanelClosed: true, // optional prop to start with collapse panels\r\n              viewports: [\r\n                {\r\n                  namespace: tracked.viewport,\r\n                  displaySetsToDisplay: [ohif.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicomsr.viewport,\r\n                  displaySetsToDisplay: [dicomsr.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicomvideo.viewport,\r\n                  displaySetsToDisplay: [dicomvideo.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicompdf.viewport,\r\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicomSeg.viewport,\r\n                  displaySetsToDisplay: [dicomSeg.sopClassHandler],\r\n                },\r\n              ],\r\n            },\r\n          };\r\n        },\r\n      },\r\n    ],\r\n    extensions: extensionDependencies,\r\n    // Default protocol gets self-registered by default in the init\r\n    hangingProtocol: 'default',\r\n    // Order is important in sop class handlers when two handlers both use\r\n    // the same sop class under different situations.  In that case, the more\r\n    // general handler needs to come last.  For this case, the dicomvideo must\r\n    // come first to remove video transfer syntax before ohif uses images\r\n    sopClassHandlers: [\r\n      dicomvideo.sopClassHandler,\r\n      dicomSeg.sopClassHandler,\r\n      ohif.sopClassHandler,\r\n      dicompdf.sopClassHandler,\r\n      dicomsr.sopClassHandler,\r\n    ],\r\n    hotkeys: {\r\n      // Don't store the hotkeys for basic-test-mode under the same key\r\n      // because they get customized by tests\r\n      name: 'basic-test-hotkeys',\r\n      hotkeys: [...hotkeys.defaults.hotkeyBindings],\r\n    },\r\n  };\r\n}\r\n\r\nconst mode = {\r\n  id,\r\n  modeFactory,\r\n  extensionDependencies,\r\n};\r\n\r\nexport default mode;\r\n"],"names":["windowLevelPresets","defaults","createButton","ToolbarService","_createColormap","label","colormap","id","toString","title","subtitle","type","commands","commandName","commandOptions","_createWwwcPreset","preset","console","log","context","setToolActiveToolbar","toolGroupIds","uiType","props","groupId","evaluate","primary","icon","tooltip","secondary","items","renderer","WindowLevelMenuItem","protocolId","rows","columns","isAction","packageJson","colours","colorsByOrientation","axial","sagittal","coronal","extensionManager","toolGroupService","commandsManager","toolGroupId","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","toolName","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","StackScrollMouseWheel","passive","Length","ArrowAnnotate","configuration","getTextCallback","callback","eventDetails","runCommand","changeTextCallback","data","Bidirectional","DragProbe","Probe","EllipticalROI","CircleROI","RectangleROI","StackScroll","Angle","Magnify","SegmentationDisplay","WindowLevelRegion","UltrasoundDirectional","PlanarFreehandROI","SplineROI","LivewireContour","enabled","ImageOverlayViewer","disabled","ReferenceLines","AdvancedMagnify","createToolGroupAndAddTools","initDefaultToolGroup","SRUtilityModule","CS3DUtilityModule","SRToolNames","SRLength","SRArrowAnnotate","SRBidirectional","SREllipticalROI","SRCircleROI","DICOMSRDisplay","initSRToolGroup","serviceManager","_servicesManager","cornerstoneViewportService","services","Crosshairs","viewportIndicators","autoPan","panSize","getReferenceLineColor","viewportId","viewportInfo","getViewportInfo","viewportOptions","orientation","warn","initMPRToolGroup","TrackballRotateTool","initVolume3DToolGroup","ReferenceLinesListeners","listeners","EVENTS","STACK_VIEWPORT_NEW_STACK","toggledState","ViewportGridService","ACTIVE_VIEWPORT_ID_CHANGED","VIEWPORTS_READY","NON_IMAGE_MODALITIES","ohif","tracked","dicomsr","dicomvideo","dicompdf","dicomSeg","extensionDependencies","modeFactory","routeName","displayName","i18n","t","onModeEnter","servicesManager","measurementService","toolbarService","customizationService","clearMeasurements","initToolGroups","addModeCustomizations","addButtons","toolbarButtons","moreTools","createButtonSection","onModeExit","syncGroupService","segmentationService","uiDialogService","uiModalService","dismissAll","hide","destroy","validationTags","study","series","isValidMode","modalities","valid","split","filter","modality","indexOf","length","description","routes","path","layoutTemplate","leftPanels","rightPanels","viewports","namespace","displaySetsToDisplay","extensions","hangingProtocol","sopClassHandlers","hotkeys","name","hotkeyBindings"],"sourceRoot":""}