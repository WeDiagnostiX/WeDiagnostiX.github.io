(()=>{var e,t,a={30684:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=30684,e.exports=t},68717:(e,t,a)=>{"use strict";var n=a(93725),r=a(72076),o=a(8455),i=a(54131),c=a(28635);const s=({dimensions:e,origin:t,direction:a,spacing:n,scalarData:r,metadata:c})=>{const s=o.ZP.newInstance();s.setDimensions(e),s.setOrigin(t),s.setDirection(a),s.setSpacing(n);const l=i.default.newInstance({name:"Pixels",numberOfComponents:1,values:r});return s.getPointData().setScalars(l),s.modified(),{imageData:s,metadata:c,getScalarData:()=>r}};const l={calculateSuvPeak:function({labelmapProps:e,referenceVolumeProps:t,annotations:a,segmentIndex:o=1}){const i=s(e),c=s(t);if("PT"!==c.metadata.Modality)return;const l=i.getScalarData(),d=c.getScalarData();if(l.length!==d.length)throw new Error("labelmap and referenceVolume must have the same number of pixels");const{dimensions:u,imageData:f}=i,{imageData:p}=c;let m;if(a?.length&&a[0].data?.cachedStats){const{projectionPoints:e}=a[0].data.cachedStats,t=[].concat(...e).map((e=>{const t=r.R3.fromValues(0,0,0);return p.worldToIndex(e,t),t}));m=n.utilities.boundingBox.getBoundingBoxAroundShape(t,u)}let b=0,h=[0,0,0],g=[0,0,0];n.utilities.pointInShapeCallback(f,(()=>!0),(({pointIJK:e,pointLPS:t})=>{const a=p.computeOffsetIndex(e);if(l[a]!==o)return;const n=d[a];n>b&&(b=n,h=e,g=t)}),m);const v=f.getDirection().slice(0,3),x=2*(10*Math.pow(1/(4/3*Math.PI),1/3)),S=r.R3.create(),O=r.R3.create(),w=r.R3.create();p.indexToWorld(h,S),r.R3.scaleAndAdd(O,S,v,-x/2),r.R3.scaleAndAdd(w,S,v,x/2);const y=[O,w];let P=0,D=0;return n.utilities.pointInSurroundingSphereCallback(p,y,(({value:e})=>{D+=e,P+=1})),{max:b,maxIJK:h,maxLPS:g,mean:D/P}}};(0,c.Jj)(l)},78753:()=>{}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=a,r.x=()=>{var e=r.O(void 0,[188,507,909,703,250,522],(()=>r(68717)));return e=r.O(e)},r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},e=[],r.O=(t,a,n,o)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,n,o]=e[d],c=!0,s=0;s<a.length;s++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](a[s])))?a.splice(s--,1):(c=!1,o<i&&(i=o));if(c){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>(985===e?"polySeg":e)+".bundle."+{188:"1ce841618632eeddb51f",250:"66fe7c098034f3af4f23",507:"e46d5faaabfbf5b3ce78",522:"3f0c4cb636c9ad4d3d22",703:"d697abdf67d5c0eac5ee",909:"ba22c5667f99f4aa4340",985:"2fcad2d8a830cc6c56b4"}[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{r.b=self.location+"";var e={607:1,985:1};r.f.i=(t,a)=>{e[t]||importScripts(r.p+r.u(t))};var t=globalThis.webpackChunk=globalThis.webpackChunk||[],a=t.push.bind(t);t.push=t=>{var[n,o,i]=t;for(var c in o)r.o(o,c)&&(r.m[c]=o[c]);for(i&&i(r);n.length;)e[n.pop()]=1;a(t)}})(),t=r.x,r.x=()=>Promise.all([188,507,909,703,250,522].map(r.e,r)).then(t);r.x()})();
//# sourceMappingURL=suv-peak-worker.bundle.0aa35c8fdd3f2c342d6c.js.map