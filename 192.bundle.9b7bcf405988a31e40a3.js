"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[192],{6192:(o,e,t)=>{t.r(e),t.d(e,{default:()=>D,initToolGroups:()=>R,toolbarButtons:()=>u});var n=t(48501),i=t(22605);const{windowLevelPresets:a}=n.defaults;function l(o,e,t,n,i,a,l){return{id:e,icon:t,label:n,type:o,commands:i,tooltip:a,uiType:l}}const s=l.bind(null,"action"),r=l.bind(null,"toggle"),m=l.bind(null,"tool");function c(o,e){return{id:o.toString(),title:o,subtitle:o,type:"action",commands:[{commandName:"setAllViewportsColorMap",commandOptions:{...a[1]}},{commandName:"setAllViewportsColorMap",commandOptions:{...a[1]}}]}}function d(o,e,t){return console.log("DEFAULTS",n.defaults),{id:o.toString(),title:e,subtitle:t,type:"action",commands:[{commandName:"setWindowLevel",commandOptions:{...a[o]},context:"CORNERSTONE"}]}}const p=["default","mpr","SRToolGroup"];function N(o){return p.map((e=>({commandName:"setToolActive",commandOptions:{toolGroupId:e,toolName:o},context:"CORNERSTONE"})))}const u=[{id:"MeasurementTools",type:"ohif.splitButton",props:{groupId:"MeasurementTools",isRadio:!0,primary:m("Length","tool-length","Length",[{commandName:"setToolActive",commandOptions:{toolName:"Length"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRLength",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Length"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Measure Tools"},items:[m("Length","tool-length","Length",[{commandName:"setToolActive",commandOptions:{toolName:"Length"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRLength",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Length Tool"),m("Bidirectional","tool-bidirectional","Bidirectional",[{commandName:"setToolActive",commandOptions:{toolName:"Bidirectional"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRBidirectional",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Bidirectional Tool"),m("ArrowAnnotate","tool-annotate","Annotation",[{commandName:"setToolActive",commandOptions:{toolName:"ArrowAnnotate"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRArrowAnnotate",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Arrow Annotate"),m("EllipticalROI","tool-elipse","Ellipse",[{commandName:"setToolActive",commandOptions:{toolName:"EllipticalROI"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SREllipticalROI",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Ellipse Tool"),m("CircleROI","tool-circle","Circle",[{commandName:"setToolActive",commandOptions:{toolName:"CircleROI"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRCircleROI",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Circle Tool")]}},{id:"Zoom",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-zoom",label:"Zoom",commands:N("Zoom")}},{id:"WindowLevel",type:"ohif.splitButton",props:{groupId:"WindowLevel",primary:m("WindowLevel","tool-window-level","Window Level",[{commandName:"setToolActive",commandOptions:{toolName:"WindowLevel"},context:"CORNERSTONE"}],"Window Level"),secondary:{icon:"chevron-down",label:"W/L Manual",isActive:!0,tooltip:"W/L Presets"},isAction:!0,renderer:i.eJ,items:[d(1,"Soft tissue","400 / 40"),d(2,"Lung","1500 / -600"),d(3,"Liver","150 / 90"),d(4,"Bone","2500 / 480"),d(5,"Brain","80 / 40")]}},{id:"Pan",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-move",label:"Pan",commands:N("Pan")}},{id:"Capture",type:"ohif.action",props:{icon:"tool-capture",label:"Capture",type:"action",commands:[{commandName:"showDownloadViewportModal",commandOptions:{},context:"CORNERSTONE"}]}},{id:"Layout",type:"ohif.layoutSelector",props:{rows:3,columns:3}},{id:"MPR",type:"ohif.action",props:{type:"toggle",icon:"icon-mpr-3d",label:"MPR",commands:[{commandName:"toggleHangingProtocol",commandOptions:{protocolId:"mprAnd3DVolumeViewport"},context:"DEFAULT"}]}},{id:"Crosshairs",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-crosshair",label:"Crosshairs",commands:[{commandName:"setToolActive",commandOptions:{toolName:"Crosshairs",toolGroupId:"mpr"},context:"CORNERSTONE"}]}},{id:"fusionPTColormap",type:"ohif.splitButton",props:{groupId:"fusionPTColormap",primary:m("fusionPTColormap","tool-fusion-color","Fusion PT Colormap",[],"Fusion PT Colormap"),secondary:{icon:"chevron-down",label:"PT Colormap",isActive:!0,tooltip:"PET Image Colormap"},isAction:!0,renderer:i.eJ,items:[c("HSV"),c("Hot Iron"),c("S PET"),c("Red Hot"),c("Perfusion"),c("Rainbow"),c("SUV"),c("GE 256"),c("GE"),c("Siemens")]}},{id:"MoreTools",type:"ohif.splitButton",props:{isRadio:!0,groupId:"MoreTools",primary:s("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Tools"},items:[s("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),s("rotate-right","tool-rotate-right","Rotate Right",[{commandName:"rotateViewportCW",commandOptions:{},context:"CORNERSTONE"}],"Rotate +90"),s("flip-horizontal","tool-flip-horizontal","Flip Horizontally",[{commandName:"flipViewportHorizontal",commandOptions:{},context:"CORNERSTONE"}],"Flip Horizontal"),r("StackImageSync","link","Stack Image Sync",[{commandName:"toggleStackImageSync",commandOptions:{},context:"CORNERSTONE"}]),r("ReferenceLines","tool-referenceLines","Reference Lines",[{commandName:"toggleReferenceLines",commandOptions:{},context:"CORNERSTONE"}]),m("StackScroll","tool-stack-scroll","Stack Scroll",[{commandName:"setToolActive",commandOptions:{toolName:"StackScroll"},context:"CORNERSTONE"}],"Stack Scroll"),s("invert","tool-invert","Invert",[{commandName:"invertViewport",commandOptions:{},context:"CORNERSTONE"}],"Invert Colors"),m("Probe","tool-probe","Probe",[{commandName:"setToolActive",commandOptions:{toolName:"DragProbe"},context:"CORNERSTONE"}],"Probe"),r("cine","tool-cine","Cine",[{commandName:"toggleCine",context:"CORNERSTONE"}],"Cine"),m("Angle","tool-angle","Angle",[{commandName:"setToolActive",commandOptions:{toolName:"Angle"},context:"CORNERSTONE"}],"Angle"),m("Magnify","tool-magnify","Magnify",[{commandName:"setToolActive",commandOptions:{toolName:"Magnify"},context:"CORNERSTONE"}],"Magnify"),m("Rectangle","tool-rectangle","Rectangle",[{commandName:"setToolActive",commandOptions:{toolName:"RectangleROI"},context:"CORNERSTONE"}],"Rectangle"),m("CalibrationLine","tool-calibration","Calibration",[{commandName:"setToolActive",commandOptions:{toolName:"CalibrationLine"},context:"CORNERSTONE"}],"Calibration Line"),s("TagBrowser","list-bullets","Dicom Tag Browser",[{commandName:"openDICOMTagViewer",commandOptions:{},context:"DEFAULT"}],"Dicom Tag Browser")]}},{id:"SegmentationTools",type:"ohif.splitButton",props:{groupId:"SegmentationTools",isRadio:!0,primary:m("Brush","tool-brushe","Paint Brush",[{commandName:"setToolActive",commandOptions:{toolName:"Brush"},context:"CORNERSTONE"}],"Brush"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Segmentation Tools"},items:[m("Brush","tool-brushe","Paint Brush",[{commandName:"setToolActive",commandOptions:{toolName:"Brush"},context:"CORNERSTONE"}],"Paint Brush"),m("RectangleScissor","tool-rscissors","Rectangle Segmentation",[{commandName:"setToolActive",commandOptions:{toolName:"RectangleScissor"},context:"CORNERSTONE"}],"Rectangle Segmentation Tool"),m("CircleScissor","tool-cscissors","Circle Segmentation",[{commandName:"setToolActive",commandOptions:{toolName:"CircleScissor"},context:"CORNERSTONE"}],"Circle Segmentation Tool"),m("SphereScissor","tool-sscissors","Sphere Segmentation",[{commandName:"setToolActive",commandOptions:{toolName:"SphereScissor"},context:"CORNERSTONE"}],"Sphere Scissor Tool"),m("PaintFill","paint-fill","Fill Holes",[{commandName:"setToolActive",commandOptions:{toolName:"PaintFill"},context:"CORNERSTONE"}],"Paint Fill Tool"),m("RectangleROIThreshold","tool-rroithreshold","Rectangle Threshold Segmentation",[{commandName:"setToolActive",commandOptions:{toolName:"RectangleROIThreshold"},context:"CORNERSTONE"}],"Rectangle ROI Threshold Tool"),m("RectangleROIStartEndThreshold","tool-rroithresholdstartend","3D Rectangle Threshold Segmentation",[{commandName:"setToolActive",commandOptions:{toolName:"RectangleROIStartEndThreshold"},context:"CORNERSTONE"}],"Rectangle ROI Start End Threshold Tool")]}}],T=JSON.parse('{"u2":"@ohif/mode-longitudinal"}').u2;const R=function(o,e,t){!function(o,e,t,n){const i=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:a,Enums:l}=i.exports,s={active:[{toolName:a.WindowLevel,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:a.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:a.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary}]},{toolName:a.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:a.Length},{toolName:a.ArrowAnnotate},{toolName:a.Bidirectional},{toolName:a.DragProbe},{toolName:a.Probe},{toolName:a.EllipticalROI},{toolName:a.CircleROI},{toolName:a.RectangleROI},{toolName:a.StackScroll},{toolName:a.Angle},{toolName:a.CobbAngle},{toolName:a.PlanarFreehandROI},{toolName:a.Magnify},{toolName:a.SegmentationDisplay},{toolName:a.CalibrationLine}],disabled:[{toolName:a.ReferenceLines}]},r={[a.ArrowAnnotate]:{getTextCallback:(o,e)=>t.runCommand("arrowTextCallback",{callback:o,eventDetails:e}),changeTextCallback:(o,e,n)=>t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}};e.createToolGroupAndAddTools(n,s,r)}(o,e,t,"default"),function(o,e,t){const n=o.getModuleEntry("@ohif/extension-cornerstone-dicom-sr.utilityModule.tools"),i=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:a}=n.exports,{toolNames:l,Enums:s}=i.exports,r={active:[{toolName:l.WindowLevel,bindings:[{mouseButton:s.MouseBindings.Primary}]},{toolName:l.Pan,bindings:[{mouseButton:s.MouseBindings.Auxiliary}]},{toolName:l.Zoom,bindings:[{mouseButton:s.MouseBindings.Secondary}]},{toolName:l.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:a.SRLength},{toolName:a.SRArrowAnnotate},{toolName:a.SRBidirectional},{toolName:a.SREllipticalROI},{toolName:a.SRCircleROI}],enabled:[{toolName:a.DICOMSRDisplay,bindings:[]}]},m={[l.ArrowAnnotate]:{getTextCallback:(o,e)=>t.runCommand("arrowTextCallback",{callback:o,eventDetails:e}),changeTextCallback:(o,e,n)=>t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}};e.createToolGroupAndAddTools("SRToolGroup",r,m)}(o,e,t),function(o,e,t){const n=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:i,Enums:a}=n.exports;console.log("TOOL NAMES INIT",i);const l={active:[{toolName:i.WindowLevel,bindings:[{mouseButton:a.MouseBindings.Primary}]},{toolName:i.Pan,bindings:[{mouseButton:a.MouseBindings.Auxiliary}]},{toolName:i.Zoom,bindings:[{mouseButton:a.MouseBindings.Secondary}]},{toolName:i.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:i.Length},{toolName:i.ArrowAnnotate},{toolName:i.Bidirectional},{toolName:i.DragProbe},{toolName:i.Probe},{toolName:i.EllipticalROI},{toolName:i.CircleROI},{toolName:i.RectangleROI},{toolName:i.StackScroll},{toolName:i.Angle},{toolName:i.CobbAngle},{toolName:i.PlanarFreehandROI},{toolName:i.SegmentationDisplay},{toolName:i.BrushTool},{toolName:i.RectangleScissorsTool},{toolName:i.CircleScissorsTool},{toolName:i.SphereScissorsTool},{toolName:i.RectangleROIThresholdTool},{toolName:i.PaintFillTool},{toolName:i.RectangleROIStartEndThresholdTool},{toolName:i.UndoTool}],disabled:[{toolName:i.Crosshairs},{toolName:i.ReferenceLines}]},s={[i.Crosshairs]:{viewportIndicators:!1,autoPan:{enabled:!1,panSize:10}},[i.ArrowAnnotate]:{getTextCallback:(o,e)=>t.runCommand("arrowTextCallback",{callback:o,eventDetails:e}),changeTextCallback:(o,e,n)=>t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}};e.createToolGroupAndAddTools("mpr",l,s)}(o,e,t),function(o,e){const t=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:n,Enums:i}=t.exports,a={active:[{toolName:n.TrackballRotateTool,bindings:[{mouseButton:i.MouseBindings.Primary}]},{toolName:n.Zoom,bindings:[{mouseButton:i.MouseBindings.Secondary}]},{toolName:n.Pan,bindings:[{mouseButton:i.MouseBindings.Auxiliary}]}]};e.createToolGroupAndAddTools("volume3d",a)}(o,e)},g=["SM","ECG","SR","SEG","RTSTRUCT"],S="@ohif/extension-default.layoutTemplateModule.viewerLayout",O="@ohif/extension-default.sopClassHandlerModule.stack",h="@ohif/extension-default.panelModule.volumeEditionPanel",E="@ohif/extension-default.panelModule.panoramicGenerationPanel",C="@ohif/extension-measurement-tracking.panelModule.seriesList",v="@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked",x="@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr",f="@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr",b="@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video",y="@ohif/extension-dicom-video.viewportModule.dicom-video",A="@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf",M="@ohif/extension-dicom-pdf.viewportModule.dicom-pdf",w="@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg",B="@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg",I="@ohif/extension-cornerstone-dicom-seg.panelModule.panelSegmentation",P="@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt",L="@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt",k={"@ohif/extension-default":"^3.0.0","@ohif/extension-cornerstone":"^3.0.0","@ohif/extension-measurement-tracking":"^3.0.0","@ohif/extension-cornerstone-dicom-sr":"^3.0.0","@ohif/extension-cornerstone-dicom-seg":"^3.0.0","@ohif/extension-cornerstone-dicom-rt":"^3.0.0","@ohif/extension-dicom-pdf":"^3.0.1","@ohif/extension-dicom-video":"^3.0.1"};const D={id:T,modeFactory:function(){let o=[];return{id:T,routeName:"viewer",displayName:"Basic Viewer",onModeEnter:({servicesManager:e,extensionManager:t,commandsManager:n})=>{const{measurementService:i,toolbarService:a,toolGroupService:l,panelService:s,segmentationService:r}=e.services;let m;i.clearMeasurements(),R(t,l,n);({unsubscribe:m}=l.subscribe(l.EVENTS.VIEWPORT_ADDED,(()=>{a.recordInteraction({groupId:"WindowLevel",itemId:"WindowLevel",interactionType:"tool",commands:[{commandName:"setToolActive",commandOptions:{toolName:"WindowLevel"},context:"CORNERSTONE"}]}),m()}))),a.init(t),a.addButtons(u),a.createButtonSection("primary",["MeasurementTools","Zoom","WindowLevel","Pan","Capture","Crosshairs","MoreTools"]),a.setActive("MPR",!0),o=[...s.addActivatePanelTriggers(I,[{sourcePubSubService:r,sourceEvents:[r.EVENTS.SEGMENTATION_ADDED]}])]},onModeExit:({servicesManager:e})=>{const{toolGroupService:t,syncGroupService:n,toolbarService:i,segmentationService:a,cornerstoneViewportService:l}=e.services;o.forEach((o=>o.unsubscribe())),o=[],t.destroy(),n.destroy(),a.destroy(),l.destroy()},validationTags:{study:[],series:[]},isValidMode:function({modalities:o}){return!!o.split("\\").filter((o=>-1===g.indexOf(o))).length},routes:[{path:"longitudinal",layoutTemplate:()=>({id:S,props:{leftPanels:[C],rightPanels:[I,h,E],rightPanelDefaultClosed:!0,viewports:[{namespace:v,displaySetsToDisplay:[O]},{namespace:f,displaySetsToDisplay:[x]},{namespace:y,displaySetsToDisplay:[b]},{namespace:M,displaySetsToDisplay:[A]},{namespace:B,displaySetsToDisplay:[w]},{namespace:P,displaySetsToDisplay:[L]}]}})}],extensions:k,hangingProtocol:"mprAnd3DVolumeViewport",sopClassHandlers:[b,w,O,A,x,L],hotkeys:[...n.dD.defaults.hotkeyBindings]}},extensionDependencies:k}}}]);
//# sourceMappingURL=192.bundle.9b7bcf405988a31e40a3.js.map