"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5888],{65888:(o,e,t)=>{t.r(e),t.d(e,{default:()=>D});var n=t(84793),a=t(47316);const{windowLevelPresets:i}=n.defaults,{createButton:l}=n.ToolbarService;function r(o,e){return{id:o.toString(),title:o,subtitle:o,type:"action",commands:[{commandName:"setAllViewportsColorMap",commandOptions:{...i[1]}},{commandName:"setAllViewportsColorMap",commandOptions:{...i[1]}}]}}function s(o,e,t){return console.log("DEFAULTS",n.defaults),{id:o.toString(),title:e,subtitle:t,commands:[{commandName:"setWindowLevel",commandOptions:{...i[o]},context:"CORNERSTONE"}]}}const c={commandName:"setToolActiveToolbar",commandOptions:{toolGroupIds:["default","mpr","SRToolGroup"]}},d=[{id:"MeasurementTools",uiType:"ohif.splitButton",props:{groupId:"MeasurementTools",evaluate:"evaluate.group.promoteToPrimaryIfCornerstoneToolNotActiveInTheList",primary:l({id:"Length",icon:"tool-length",label:"Length",tooltip:"Length Tool",commands:c,evaluate:"evaluate.cornerstoneTool"}),secondary:{icon:"chevron-down",tooltip:"More Measure Tools"},items:[l({id:"Length",icon:"tool-length",label:"Length",tooltip:"Length Tool",commands:c,evaluate:"evaluate.cornerstoneTool"}),l({id:"Bidirectional",icon:"tool-bidirectional",label:"Bidirectional",tooltip:"Bidirectional Tool",commands:c,evaluate:"evaluate.cornerstoneTool"}),l({id:"ArrowAnnotate",icon:"tool-annotate",label:"Annotation",tooltip:"Arrow Annotate",commands:c,evaluate:"evaluate.cornerstoneTool"}),l({id:"EllipticalROI",icon:"tool-ellipse",label:"Ellipse",tooltip:"Ellipse ROI",commands:c,evaluate:"evaluate.cornerstoneTool"}),l({id:"CircleROI",icon:"tool-circle",label:"Circle",tooltip:"Circle Tool",commands:c,evaluate:"evaluate.cornerstoneTool"}),l({id:"PlanarFreehandROI",icon:"icon-tool-freehand-roi",label:"Freehand ROI",tooltip:"Freehand ROI",commands:c,evaluate:"evaluate.cornerstoneTool"}),l({id:"SplineROI",icon:"icon-tool-spline-roi",label:"Spline ROI",tooltip:"Spline ROI",commands:c,evaluate:"evaluate.cornerstoneTool"}),l({id:"LivewireContour",icon:"icon-tool-livewire",label:"Livewire tool",tooltip:"Livewire tool",commands:c,evaluate:"evaluate.cornerstoneTool"})]}},{id:"Zoom",uiType:"ohif.radioGroup",props:{icon:"tool-zoom",label:"Zoom",commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"WindowLevel",uiType:"ohif.splitButton",props:{groupId:"WindowLevel",primary:l({id:"WindowLevel",icon:"tool-window-level",label:"Window Level",tooltip:"Window Level",commands:c,evaluate:"evaluate.cornerstoneTool"}),secondary:{icon:"chevron-down",label:"W/L Manual",tooltip:"W/L Presets"},renderer:a.eJ,items:[s(1,"Soft tissue","400 / 40"),s(2,"Lung","1500 / -600"),s(3,"Liver","150 / 90"),s(4,"Bone","2500 / 480"),s(5,"Brain","80 / 40")]}},{id:"Pan",uiType:"ohif.radioGroup",props:{type:"tool",icon:"tool-move",label:"Pan",commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"MPR",uiType:"ohif.radioGroup",props:{icon:"icon-mpr-3d",label:"MPR",commands:[{commandName:"toggleHangingProtocol",commandOptions:{protocolId:"mprAnd3DVolumeViewport"}}],evaluate:"evaluate.mpr"}},{id:"TrackBallRotate",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-3d-rotate",label:"3D Rotate",commands:c}},{id:"Capture",uiType:"ohif.radioGroup",props:{icon:"tool-capture",label:"Capture",commands:"showDownloadViewportModal",evaluate:"evaluate.action"}},{id:"Layout",uiType:"ohif.layoutSelector",props:{rows:3,columns:4,evaluate:"evaluate.action",commands:"setViewportGridLayout"}},{id:"Crosshairs",uiType:"ohif.radioGroup",props:{type:"tool",icon:"tool-crosshair",label:"Crosshairs",commands:{commandName:"setToolActiveToolbar",commandOptions:{toolGroupIds:["mpr"]}},evaluate:"evaluate.cornerstoneTool"}},{id:"fusionPTColormap",uiType:"ohif.splitButton",props:{groupId:"fusionPTColormap",primary:l({id:"fusionPTColormap",icon:"tool-fusion-color",label:"Fusion PT Colormap",tooltip:"Fusion PT Colormap",commands:[],evaluate:"evaluate.cornerstoneTool"}),secondary:{icon:"chevron-down",tooltip:"PET Image Colormap"},isAction:!0,renderer:a.eJ,items:[r("HSV"),r("Hot Iron"),r("S PET"),r("Red Hot"),r("Perfusion"),r("Rainbow"),r("SUV"),r("GE 256"),r("GE"),r("Siemens")]}}],m=JSON.parse('{"u2":"@ohif/mode-test"}').u2,u={"viewport-0":"rgb(200, 0, 0)","viewport-1":"rgb(200, 200, 0)","viewport-2":"rgb(0, 200, 0)"},p={axial:"rgb(200, 0, 0)",sagittal:"rgb(200, 200, 0)",coronal:"rgb(0, 200, 0)"};const v=function(o,e,t){!function(o,e,t,n){const a=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:i,Enums:l}=a.exports,r={active:[{toolName:i.WindowLevel,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:i.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:i.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary}]},{toolName:i.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:i.Length},{toolName:i.ArrowAnnotate,configuration:{getTextCallback:(o,e)=>t.runCommand("arrowTextCallback",{callback:o,eventDetails:e}),changeTextCallback:(o,e,n)=>t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}},{toolName:i.Bidirectional},{toolName:i.DragProbe},{toolName:i.Probe},{toolName:i.EllipticalROI},{toolName:i.CircleROI},{toolName:i.RectangleROI},{toolName:i.StackScroll},{toolName:i.Angle},{toolName:i.Magnify},{toolName:i.SegmentationDisplay},{toolName:i.WindowLevelRegion},{toolName:i.UltrasoundDirectional},{toolName:i.PlanarFreehandROI},{toolName:i.SplineROI},{toolName:i.LivewireContour}],enabled:[{toolName:i.ImageOverlayViewer}],disabled:[{toolName:i.ReferenceLines},{toolName:i.AdvancedMagnify}]};e.createToolGroupAndAddTools(n,r)}(o,e,t,"default"),function(o,e){const t=o.getModuleEntry("@ohif/extension-cornerstone-dicom-sr.utilityModule.tools"),n=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:a}=t.exports,{toolNames:i,Enums:l}=n.exports,r={active:[{toolName:i.WindowLevel,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:i.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:i.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary}]},{toolName:i.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:a.SRLength},{toolName:a.SRArrowAnnotate},{toolName:a.SRBidirectional},{toolName:a.SREllipticalROI},{toolName:a.SRCircleROI},{toolName:i.WindowLevelRegion}],enabled:[{toolName:a.DICOMSRDisplay,bindings:[]}]};e.createToolGroupAndAddTools("SRToolGroup",r)}(o,e),function(o,e,t){const n=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),a=o._servicesManager,{cornerstoneViewportService:i}=a.services,{toolNames:l,Enums:r}=n.exports,s={active:[{toolName:l.WindowLevel,bindings:[{mouseButton:r.MouseBindings.Primary}]},{toolName:l.Pan,bindings:[{mouseButton:r.MouseBindings.Auxiliary}]},{toolName:l.Zoom,bindings:[{mouseButton:r.MouseBindings.Secondary}]},{toolName:l.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:l.Length},{toolName:l.ArrowAnnotate,configuration:{getTextCallback:(o,e)=>t.runCommand("arrowTextCallback",{callback:o,eventDetails:e}),changeTextCallback:(o,e,n)=>t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}},{toolName:l.Bidirectional},{toolName:l.DragProbe},{toolName:l.Probe},{toolName:l.EllipticalROI},{toolName:l.CircleROI},{toolName:l.RectangleROI},{toolName:l.StackScroll},{toolName:l.Angle},{toolName:l.SegmentationDisplay},{toolName:l.WindowLevelRegion}],disabled:[{toolName:l.Crosshairs,configuration:{viewportIndicators:!1,autoPan:{enabled:!1,panSize:10},getReferenceLineColor:o=>{const e=i.getViewportInfo(o),t=e?.viewportOptions;return t?u[t.id]||p[t.orientation]||"#0c0":(console.warn("missing viewport?",o),"#0c0")}}},{toolName:l.ReferenceLines}]};e.createToolGroupAndAddTools("mpr",s)}(o,e,t),function(o,e){const t=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:n,Enums:a}=t.exports,i={active:[{toolName:n.TrackballRotateTool,bindings:[{mouseButton:a.MouseBindings.Primary}]},{toolName:n.Zoom,bindings:[{mouseButton:a.MouseBindings.Secondary}]},{toolName:n.Pan,bindings:[{mouseButton:a.MouseBindings.Auxiliary}]}]};e.createToolGroupAndAddTools("volume3d",i)}(o,e)};var g=t(62709);const{createButton:b}=n.ToolbarService,T=[{commandName:"setSourceViewportForReferenceLinesTool",context:"CORNERSTONE"}],f=[{id:"MoreTools",uiType:"ohif.splitButton",props:{groupId:"MoreTools",evaluate:"evaluate.group.promoteToPrimaryIfCornerstoneToolNotActiveInTheList",primary:b({id:"Reset",icon:"tool-reset",tooltip:"Reset View",label:"Reset",commands:"resetViewport",evaluate:"evaluate.action"}),secondary:{icon:"chevron-down",label:"",tooltip:"More Tools"},items:[b({id:"Reset",icon:"tool-reset",label:"Reset View",tooltip:"Reset View",commands:"resetViewport",evaluate:"evaluate.action"}),b({id:"rotate-right",icon:"tool-rotate-right",label:"Rotate Right",tooltip:"Rotate +90",commands:"rotateViewportCW",evaluate:"evaluate.action"}),b({id:"flipHorizontal",icon:"tool-flip-horizontal",label:"Flip Horizontal",tooltip:"Flip Horizontally",commands:"flipViewportHorizontal",evaluate:"evaluate.viewportProperties.toggle"}),b({id:"ImageSliceSync",icon:"link",label:"Image Slice Sync",tooltip:"Enable position synchronization on stack viewports",commands:{commandName:"toggleSynchronizer",commandOptions:{type:"imageSlice"}},listeners:{[g.EVENTS.STACK_VIEWPORT_NEW_STACK]:{commandName:"toggleImageSliceSync",commandOptions:{toggledState:!0}}},evaluate:"evaluate.cornerstone.synchronizer"}),b({id:"ReferenceLines",icon:"tool-referenceLines",label:"Reference Lines",tooltip:"Show Reference Lines",commands:"toggleEnabledDisabledToolbar",listeners:{[n.pK.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]:T,[n.pK.EVENTS.VIEWPORTS_READY]:T},evaluate:"evaluate.cornerstoneTool.toggle"}),b({id:"ImageOverlayViewer",icon:"toggle-dicom-overlay",label:"Image Overlay",tooltip:"Toggle Image Overlay",commands:"toggleEnabledDisabledToolbar",evaluate:"evaluate.cornerstoneTool.toggle"}),b({id:"StackScroll",icon:"tool-stack-scroll",label:"Stack Scroll",tooltip:"Stack Scroll",commands:c,evaluate:"evaluate.cornerstoneTool"}),b({id:"invert",icon:"tool-invert",label:"Invert",tooltip:"Invert Colors",commands:"invertViewport",evaluate:"evaluate.viewportProperties.toggle"}),b({id:"Probe",icon:"tool-probe",label:"Probe",tooltip:"Probe",commands:c,evaluate:"evaluate.cornerstoneTool"}),b({id:"Cine",icon:"tool-cine",label:"Cine",tooltip:"Cine",commands:"toggleCine",evaluate:"evaluate.cine"}),b({id:"Angle",icon:"tool-angle",label:"Angle",tooltip:"Angle",commands:c,evaluate:"evaluate.cornerstoneTool"}),b({id:"CobbAngle",icon:"icon-tool-cobb-angle",label:"Cobb Angle",tooltip:"Cobb Angle",commands:c,evaluate:"evaluate.cornerstoneTool"}),b({id:"Magnify",icon:"tool-magnify",label:"Zoom-in",tooltip:"Zoom-in",commands:c,evaluate:"evaluate.cornerstoneTool"}),b({id:"RectangleROI",icon:"tool-rectangle",label:"Rectangle",tooltip:"Rectangle",commands:c,evaluate:"evaluate.cornerstoneTool"}),b({id:"CalibrationLine",icon:"tool-calibration",label:"Calibration",tooltip:"Calibration Line",commands:c,evaluate:"evaluate.cornerstoneTool"}),b({id:"TagBrowser",icon:"dicom-tag-browser",label:"Dicom Tag Browser",tooltip:"Dicom Tag Browser",commands:"openDICOMTagViewer"}),b({id:"AdvancedMagnify",icon:"icon-tool-loupe",label:"Magnify Probe",tooltip:"Magnify Probe",commands:"toggleActiveDisabledToolbar",evaluate:"evaluate.cornerstoneTool.toggle.ifStrictlyDisabled"}),b({id:"UltrasoundDirectionalTool",icon:"icon-tool-ultrasound-bidirectional",label:"Ultrasound Directional",tooltip:"Ultrasound Directional",commands:c,evaluate:["evaluate.cornerstoneTool","evaluate.isUS"]}),b({id:"WindowLevelRegion",icon:"icon-tool-window-region",label:"Window Level Region",tooltip:"Window Level Region",commands:c,evaluate:"evaluate.cornerstoneTool"})]}}];var y=t(73577);const h=["SM","ECG","SR","SEG"],S="@ohif/extension-default.layoutTemplateModule.viewerLayout",w="@ohif/extension-default.sopClassHandlerModule.stack",N="@ohif/extension-measurement-tracking.panelModule.trackedMeasurements",M="@ohif/extension-measurement-tracking.panelModule.seriesList",R="@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked",C="@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr",x="@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr",L="@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video",I="@ohif/extension-dicom-video.viewportModule.dicom-video",A="@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf",P="@ohif/extension-dicom-pdf.viewportModule.dicom-pdf",B="@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg",E="@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg",O="@ohif/extension-cornerstone-dicom-seg.panelModule.panelSegmentation",k={"@ohif/extension-default":"^3.0.0","@ohif/extension-cornerstone":"^3.0.0","@ohif/extension-measurement-tracking":"^3.0.0","@ohif/extension-cornerstone-dicom-sr":"^3.0.0","@ohif/extension-cornerstone-dicom-seg":"^3.0.0","@ohif/extension-dicom-pdf":"^3.0.1","@ohif/extension-dicom-video":"^3.0.1","@ohif/extension-test":"^0.0.1"};const D={id:m,modeFactory:function(){return{id:m,routeName:"basic-test",displayName:y.Z.t("Modes:Basic Test Mode"),onModeEnter:({servicesManager:o,extensionManager:e,commandsManager:t})=>{const{measurementService:n,toolbarService:a,toolGroupService:i,customizationService:l}=o.services;n.clearMeasurements(),v(e,i,t),l.addModeCustomizations(["@ohif/extension-test.customizationModule.custom-context-menu"]),a.addButtons([...d,...f]),a.createButtonSection("primary",["MeasurementTools","Zoom","WindowLevel","Pan","Capture","Layout","MPR","Crosshairs","MoreTools"])},onModeExit:({servicesManager:o})=>{const{toolGroupService:e,syncGroupService:t,segmentationService:n,cornerstoneViewportService:a,uiDialogService:i,uiModalService:l}=o.services;i.dismissAll(),l.hide(),e.destroy(),t.destroy(),n.destroy(),a.destroy()},validationTags:{study:[],series:[]},isValidMode:function({modalities:o}){return{valid:!!o.split("\\").filter((o=>-1===h.indexOf(o))).length,description:"The mode does not support studies that ONLY include the following modalities: SM, ECG, SR, SEG"}},routes:[{path:"basic-test",layoutTemplate:()=>({id:S,props:{leftPanels:[M],rightPanels:[O,N],viewports:[{namespace:R,displaySetsToDisplay:[w]},{namespace:x,displaySetsToDisplay:[C]},{namespace:I,displaySetsToDisplay:[L]},{namespace:P,displaySetsToDisplay:[A]},{namespace:E,displaySetsToDisplay:[B]}]}})}],extensions:k,hangingProtocol:"default",sopClassHandlers:[L,B,w,A,C],hotkeys:{name:"basic-test-hotkeys",hotkeys:[...n.dD.defaults.hotkeyBindings]}}},extensionDependencies:k}}}]);
//# sourceMappingURL=5888.bundle.7d25e8e4ee62935683f4.js.map